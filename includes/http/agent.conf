# Without this, cosocket-based code in worker
# initialization cannot resolve leader.mesos.
resolver 198.51.100.1:53 198.51.100.2:53 198.51.100.3:53 valid=60s;

upstream dddt {
    server unix:/run/dcos/3dt.sock;
}

init_by_lua_block {
	# Loading the auth module in the global Lua VM in the master process is a
	# requirement, so that code is executed under the user that spawns the
	# master process instead of 'nobody' (which workers operate under).
    shim = require 'lib.shim';
}
